# Описание проекта

Приложение представляет собой REST API для уч>та рабочего времени пользователей. Позволяет создавать задачи, 
отслеживать время работы, получать отчёты по трудозатратам.
Проект реализован с использованием Spring Boot 3, база данных — MySQL, сборщик — Apache
Maven, язык — Java 17.

## Функциональность сервиса (API-эндпоинты):

1. Пользователи (`/users`)
   * Создание пользователя (`POST /create`)
   * Обновление данных пользователя (`PATCH /{id}`)
   * Удаление пользователя (`DELETE /{id}`)
2. Задачи (`/tasks`)
   * Создание задачи (`POST /create`)
   * Обновление задачи (`PATCH /{id}`)
   * Удаление задачи (`DELETE /{id}`)
3. Трекинг времени (`/times`)
   * Старт задачи (`POST /start/{id}`)
   * Остановка задачи (`PUT /stop/{id}`)
   * Удаление трекинга пользователя (`DELETE /user/{id}`)
4. Отчёты (`/reports`)
   * Трудозатраты по задачам за период (`GET /tasks`)
   * Интервалы работы за период (`GET /intervals`)
   * Сумма трудозатрат за период (`GET /summary`)

## Перед запуском убедитесь, что установлены:

* JDK 17+
* Apache Maven 3+
* MySQL
* Git

## Для запуска приложения:

1. Клонировать данный репозиторий
2. Заполнить в корне проекта конфигурационный файл `.env` согласно примеру 
`.env.example`:
   * `SPRING_DATASOURCE_URL`=jdbc:mysql://localhost:3306/{имя базы данных}
   * `SPRING_DATASOURCE_USERNAME`={имя пользователя}
   * `SPRING_DATASOURCE_PASSWORD`={пароль пользователя}
3. Собрать приложение командой в терминале:
   `mvn clean package`
   После успешной сборки в папке `target/` появится исполняемый JAR-файл
4. Создать базу данных MySQL c именем и пользователем, соответствующими `.env`
5. Запустить приложение командой в терминале:
   `java -jar target/{имя собранного пакета}.jar`
   По умолчанию приложение запустится на порту 8080
6. Для закрытия приложения можно использовать комбинацию CTRL+C

## Использование эндпоинтов:

1. `POST users/create`, `PATCH users/{id}`

   Тело запроса должно содержать строку с именем пользователя

```json
{
   "name": "{имя пользователя}"
}
```

2. `POST tasks/create`, `PATCH tasks/{id}`
   Тело запроса должно содержать строку с заданием и идентификатор пользователя

```json
{
    "name" : "{задание}",
    "userId" : {id}
}
```

3. Во всех остальных запросах тело отсутствует.